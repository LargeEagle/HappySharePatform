# å‰ç«¯å¾Œç«¯é›†æˆå®Œæˆ

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. é…ç½®æ›´æ–° (`frontend/src/config/app.config.ts`)
- âœ… è¨­ç½® `useDummyData: false` - ä½¿ç”¨çœŸå¯¦å¾Œç«¯ API
- âœ… æ›´æ–° `baseUrl: 'http://localhost:5000/api'` - NestJS å¾Œç«¯åœ°å€

### 2. èªè­‰æœå‹™é©é… (`frontend/src/services/auth.service.ts`)
**å¾Œç«¯éŸ¿æ‡‰æ ¼å¼**ï¼š
```json
{
  "success": true,
  "message": "Login successful",
  "data": {
    "user": { "id": "...", "username": "...", "email": "...", "name": "...", "avatar": "..." },
    "token": "eyJhbGc..."
  }
}
```

**å‰ç«¯é©é…**ï¼š
- âœ… login() - å¾ `data.token` æå– token
- âœ… register() - å¾ `data.token` æå– token  
- âœ… getCurrentUser() - èª¿ç”¨ `/auth/me` ä¸¦å‚³é Bearer token

### 3. æ–‡ç«  API é©é… (`frontend/src/services/posts.api.ts`)
**æ›´æ–°è¦é»**ï¼š
- âœ… URL è·¯å¾‘ï¼š`/api/posts` â†’ `/posts` (baseURL å·²åŒ…å« /api)
- âœ… å‰µå»ºæ–‡ç« ï¼šè¿”å› `response.data` (ç›´æ¥æ˜¯ Post å°è±¡)
- âœ… æ›´æ–°æ–‡ç« ï¼šè¿”å› `response.data`
- âœ… ç²å–æ–‡ç« åˆ—è¡¨ï¼šå¾ `response.data.posts` å’Œ `response.data.pagination`
- âœ… ç²å–å–®ç¯‡æ–‡ç« ï¼šè¿”å› `response.data`
- âœ… é»è®šï¼šè¿”å›å®Œæ•´çš„ Post å°è±¡
- âœ… æ”¶è—ï¼šè¿”å›å®Œæ•´çš„ Post å°è±¡

### 4. API Client (`frontend/src/services/api.client.ts`)
**é…ç½®æ­£ç¢º**ï¼š
- âœ… è‡ªå‹•æ·»åŠ  Authorization Bearer token
- âœ… 401 éŒ¯èª¤è‡ªå‹•æ¸…é™¤èªè­‰ä¿¡æ¯
- âœ… çµ±ä¸€éŒ¯èª¤è™•ç†

## ğŸ“‹ æ¸¬è©¦å¸³è™Ÿ

ä½¿ç”¨ä»¥ä¸‹å¸³è™Ÿç™»å…¥å‰ç«¯æ‡‰ç”¨ï¼š

| Email | å¯†ç¢¼ | ç”¨æˆ¶å |
|-------|------|--------|
| alice@happyshare.com | Password123 | alice |
| bob@happyshare.com | Password123 | bob |
| carol@happyshare.com | Password123 | carol |
| david@happyshare.com | Password123 | david |
| emma@happyshare.com | Password123 | emma |

## ğŸš€ å•Ÿå‹•æ‡‰ç”¨

### å¾Œç«¯ï¼ˆå·²é‹è¡Œï¼‰
```bash
cd backend
npm run start:dev
```
- é‹è¡Œæ–¼ï¼šhttp://localhost:5000/api
- ç‹€æ…‹ï¼šâœ… æ­£åœ¨é‹è¡Œ

### å‰ç«¯
```bash
cd frontend
npx expo start
```

## ğŸ§ª æ¸¬è©¦æµç¨‹

### 1. ç™»å…¥æ¸¬è©¦
1. æ‰“é–‹å‰ç«¯æ‡‰ç”¨
2. ä½¿ç”¨ `alice@happyshare.com` / `Password123` ç™»å…¥
3. ç¢ºèªèƒ½æˆåŠŸç²å– token ä¸¦é€²å…¥é¦–é 

### 2. æŸ¥çœ‹æ–‡ç« 
1. é¦–é æ‡‰é¡¯ç¤º 10 ç¯‡æ¸¬è©¦æ–‡ç« 
2. ç¢ºèªæ–‡ç« å…§å®¹ã€ä½œè€…ã€é ­åƒæ­£ç¢ºé¡¯ç¤º
3. æ¸¬è©¦æ»¾å‹•è¼‰å…¥æ›´å¤šæ–‡ç« 

### 3. æ–‡ç« äº’å‹•
1. é»æ“Šæ„›å¿ƒåœ–æ¨™æ¸¬è©¦é»è®šåŠŸèƒ½
2. é»æ“Šæ”¶è—åœ–æ¨™æ¸¬è©¦æ”¶è—åŠŸèƒ½
3. é»æ“Šæ–‡ç« é€²å…¥è©³æƒ…é 

### 4. å‰µå»ºæ–‡ç« 
1. é»æ“Šã€Œæ–°æ–‡ç« ã€æŒ‰éˆ•
2. è¼¸å…¥æ¨™é¡Œå’Œå…§å®¹
3. ç™¼å¸ƒä¸¦ç¢ºèªæ–‡ç« å‡ºç¾åœ¨åˆ—è¡¨ä¸­

### 5. è©•è«–æ¸¬è©¦
1. é€²å…¥æ–‡ç« è©³æƒ…é 
2. æŸ¥çœ‹ç¾æœ‰è©•è«–ï¼ˆæ‡‰æœ‰æ¸¬è©¦æ•¸æ“šï¼‰
3. ç™¼è¡¨æ–°è©•è«–
4. æ¸¬è©¦è©•è«–é»è®š

### 6. å€‹äººè³‡æ–™
1. é€²å…¥å€‹äººè³‡æ–™é é¢
2. ç¢ºèªç”¨æˆ¶ä¿¡æ¯æ­£ç¢ºé¡¯ç¤º
3. æŸ¥çœ‹ç”¨æˆ¶ç™¼å¸ƒçš„æ–‡ç« åˆ—è¡¨
4. æ¸¬è©¦ç·¨è¼¯å€‹äººè³‡æ–™

## ğŸ”§ å¯èƒ½éœ€è¦çš„é¡å¤–é©é…

### è©•è«– API (`frontend/src/services/...`)
å¦‚æœå‰ç«¯æœ‰å–®ç¨çš„è©•è«–æœå‹™ï¼Œéœ€è¦é¡ä¼¼çš„é©é…ï¼š
- URL: `/api/comments` â†’ `/comments`
- éŸ¿æ‡‰æ ¼å¼ï¼š`response.data`

### ç”¨æˆ¶ API
- URL: `/api/users` â†’ `/users`
- éŸ¿æ‡‰æ ¼å¼ï¼š`response.data`

## âš ï¸ æ³¨æ„äº‹é …

1. **CORS è¨­ç½®**
   - å¾Œç«¯éœ€è¦å…è¨±å‰ç«¯åŸŸåè¨ªå•
   - NestJS å·²é…ç½® CORS

2. **Token éæœŸ**
   - Token æœ‰æ•ˆæœŸï¼š7 å¤©
   - éæœŸå¾Œéœ€é‡æ–°ç™»å…¥

3. **åœ–ç‰‡ä¸Šå‚³**
   - é ­åƒ URL ä½¿ç”¨å¤–éƒ¨æœå‹™ï¼ˆpravatar.ccï¼‰
   - å¯¦éš›ä¸Šå‚³åŠŸèƒ½éœ€è¦é¡å¤–å¯¦ç¾

4. **éŒ¯èª¤è™•ç†**
   - æ‰€æœ‰ API èª¿ç”¨éƒ½æœ‰ try-catch
   - éŒ¯èª¤ä¿¡æ¯å¾ `error.response.data.message` æå–

## ğŸ“Š API éŸ¿æ‡‰æ ¼å¼çµ±ä¸€

å¾Œç«¯æ‰€æœ‰æˆåŠŸéŸ¿æ‡‰æ ¼å¼ï¼š
```json
{
  "success": true,
  "message": "Operation successful",
  "data": { /* å¯¦éš›æ•¸æ“š */ }
}
```

éŒ¯èª¤éŸ¿æ‡‰æ ¼å¼ï¼š
```json
{
  "message": "Error message",
  "error": "Error type",
  "statusCode": 400
}
```

## âœ… é›†æˆå®Œæˆæª¢æŸ¥æ¸…å–®

- [x] å¾Œç«¯ API æ­£å¸¸é‹è¡Œ
- [x] å‰ç«¯é…ç½®æ›´æ–°
- [x] èªè­‰æœå‹™é©é…
- [x] æ–‡ç«  API é©é…
- [x] API Client é…ç½®æ­£ç¢º
- [ ] å‰ç«¯æ‡‰ç”¨æ¸¬è©¦ï¼ˆéœ€è¦å•Ÿå‹•ï¼‰
- [ ] å®Œæ•´åŠŸèƒ½æµç¨‹æ¸¬è©¦

---

**ä¸‹ä¸€æ­¥**ï¼šå•Ÿå‹•å‰ç«¯æ‡‰ç”¨ä¸¦é€²è¡Œå®Œæ•´çš„åŠŸèƒ½æ¸¬è©¦ã€‚
