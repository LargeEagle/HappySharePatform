### 3.1 主題系統設計
主題系統基於 React Native Paper 的 MD3 主題系統構建，並進行了擴展。

#### 3.1.1 主題配置
文件位置：`src/config/theme.config.ts`
```typescript
export interface AppTheme extends MD3Theme {
  custom: {
    backdrop: string;
  };
}
```

主題配置包括：
- 基於 Material Design 3 的主題系統
- 自定義擴展屬性
- 完整的淺色/深色主題定義
- 色彩系統：
  - primary: 主要品牌色
  - secondary: 次要強調色
  - background: 背景色
  - surface: 表面色
  - error: 錯誤提示色
  - 以及更多 MD3 規範顏色

#### 3.1.2 主題管理
實現檔案：
- `src/providers/ThemeProvider.tsx`: 全局主題提供者
- `src/hooks/useTheme.ts`: 主題管理邏輯

功能特性：
1. 主題切換：
   - 支援 light/dark/system 三種模式
   - 系統主題自動跟隨
   - 手動切換主題
   
2. 主題持久化：
   - 使用 AsyncStorage 儲存主題偏好
   - 應用啟動時自動恢復設置

3. 使用方式：
```typescript
const { theme, isDark, themeMode, setTheme } = useAppTheme();
```

#### 3.1.3 元件主題應用規範
1. 背景色使用：
   - 頁面背景：`theme.colors.background`
   - 卡片背景：`theme.colors.surface`
   - 強調背景：`theme.colors.primaryContainer`

2. 文字顏色：
   - 主要文字：`theme.colors.onSurface`
   - 次要文字：`theme.colors.onSurfaceVariant`
   - 強調文字：`theme.colors.primary`

3. 交互元素：
   - 主要按鈕：`theme.colors.primary`
   - 次要按鈕：`theme.colors.secondary`
   - 錯誤狀態：`theme.colors.error`

4. 層次關係：
   - 使用 elevation 屬性創建深度
   - 注意深淺模式下的對比度

### 3.2 元件開發規範

#### 3.2.1 基礎元件規範
所有基礎元件必須：
- 支援深色模式適配
- 使用主題系統顏色
- 提供適當的類型定義
- 考慮跨平台兼容性

示例：
```typescript
import { useAppTheme } from '../providers/ThemeProvider';

export const MyComponent = () => {
  const { theme } = useAppTheme();
  return (
    <View style={{ backgroundColor: theme.colors.surface }}>
      <Text style={{ color: theme.colors.onSurface }}>
        Content
      </Text>
    </View>
  );
};
```