# 圖片功能使用指南

## 📸 功能概述

本社交平台現已支持完整的圖片上傳和預覽功能。用戶可以：
- 在發文時添加最多 9 張圖片
- 使用相機拍照或從相簿選擇
- 管理和預覽已選擇的圖片
- 在首頁和詳情頁瀏覽圖片輪播
- 全螢幕查看圖片

## 🎯 使用場景

### 1. 發布帶圖片的文章

#### 步驟 1: 進入發文頁
1. 打開應用
2. 點擊底部導航欄的 "+" 按鈕
3. 或在首頁點擊 "發布新文章" 按鈕

#### 步驟 2: 添加圖片
1. 在發文頁面找到 "📸 圖片" 區域
2. 點擊 "[+添加]" 按鈕
3. 選擇圖片來源：
   - **相簿**: 從手機相簿選擇已有圖片
   - **相機**: 立即拍照

#### 步驟 3: 選擇多張圖片
- **相簿模式**: 支持一次選擇多張圖片（最多 9 張）
- **相機模式**: 每次拍攝一張，可多次添加

#### 步驟 4: 管理圖片
- **查看順序**: 每張圖片左下角顯示序號（1, 2, 3...）
- **刪除圖片**: 點擊右上角的 ❌ 按鈕，確認後刪除
- **預覽圖片**: 點擊任意圖片，全螢幕查看
- **數量提示**: 頂部顯示 "已選擇 X/9 張圖片"

#### 步驟 5: 完成發布
1. 填寫標題和內容
2. 可選：添加標籤、位置
3. 點擊 "發布" 按鈕
4. 圖片將隨文章一起發布

### 2. 瀏覽圖片文章

#### 在首頁卡片
```
┌─────────────────────────────────┐
│ 👤 用戶名    2024-11-03         │
│                                 │
│ 文章標題                        │
│ 文章內容前三行...               │
│                                 │
│ ┌─────────────────────────────┐ │
│ │                             │ │
│ │    [圖片輪播]               │ │
│ │                             │ │
│ │                      3/5    │ │  ← 分頁指示器
│ └─────────────────────────────┘ │
│                                 │
│ #標籤1 #標籤2                   │
│ ❤️ 42  💬 8                     │
└─────────────────────────────────┘
```

**操作**:
- 👆 **左右滑動**: 瀏覽所有圖片
- 🔢 **右下角數字**: 顯示當前圖片位置（3/5 表示第 3 張，共 5 張）
- 📱 **點擊卡片**: 進入文章詳情頁

#### 在詳情頁
1. 點擊任意文章卡片進入詳情
2. 在文章內容下方看到圖片輪播（300px 高度）
3. 左右滑動瀏覽所有圖片
4. 點擊任意圖片進入全螢幕模式

#### 全螢幕查看
```
┌─────────────────────────────────┐
│ [×]              3/5            │  ← 頂部工具欄
│                                 │
│                                 │
│        [全螢幕圖片]             │
│                                 │
│                                 │
│          ● ○ ● ○ ●             │  ← 底部分頁指示器
└─────────────────────────────────┘
```

**操作**:
- 👆 **左右滑動**: 切換圖片
- ❌ **點擊右上角 ×**: 關閉全螢幕
- 🔢 **頂部數字**: 顯示當前位置
- ⚫ **底部圓點**: 當前圖片高亮顯示

### 3. 保存草稿

#### 自動保存
- 選擇的圖片會自動保存到草稿
- 離開發文頁面時不會丟失
- 重新打開時自動恢復

#### 手動保存
1. 在發文頁面點擊 "保存草稿" 按鈕
2. 圖片、標題、內容、標籤、位置都會被保存
3. 顯示 "草稿已保存" 提示

#### 恢復草稿
1. 打開發文頁面
2. 應用自動檢測並恢復上次的草稿
3. 繼續編輯或直接發布

## 🎨 功能特點

### 1. 智能數量限制
- **最多 9 張**: 防止上傳過多圖片影響性能
- **達到限制**: "添加" 按鈕自動禁用
- **友好提示**: 顯示 "最多只能上傳 9 張圖片"

### 2. 清晰的視覺反饋
- **圖片順序**: 每張圖片左下角顯示序號
- **數量提示**: "已選擇 3/9 張圖片"
- **分頁指示**: 輪播時顯示 "3/5"
- **刪除確認**: 避免誤刪除

### 3. 流暢的交互體驗
- **橫向滑動**: 自然的圖片切換
- **點擊放大**: 快速全螢幕查看
- **平滑動畫**: Modal 淡入淡出效果

### 4. 完善的權限管理
- **相簿權限**: 首次使用時請求
- **相機權限**: 拍照時請求
- **權限被拒**: 顯示友好提示

## ⚙️ 技術規格

### 圖片限制
| 項目 | 限制 |
|------|------|
| 最大數量 | 9 張 |
| 圖片質量 | 80% |
| 支持格式 | JPG, PNG, WebP |
| 文件大小 | 無限制（建議 < 10MB）|

### 性能指標
| 指標 | 目標值 |
|------|--------|
| 滑動流暢度 | 60 FPS |
| 圖片加載時間 | < 500ms |
| 內存使用 | 正常 |
| 應用響應 | 即時 |

## 📱 平台兼容性

### iOS
- ✅ iOS 13+
- ✅ iPhone 6s 及更新機型
- ✅ iPad
- ✅ iPod Touch（第7代）

### Android
- ✅ Android 5.0+（API 21+）
- ✅ 大部分 Android 設備
- ✅ 平板設備

## 🐛 常見問題

### 1. 為什麼無法選擇圖片？
**可能原因**:
- 沒有授予相簿權限
- 已達到 9 張限制

**解決方法**:
- 前往系統設置授予權限
- 刪除一些圖片後再添加

### 2. 圖片顯示不正常？
**可能原因**:
- 圖片格式不支持
- 圖片文件損壞
- 網絡問題

**解決方法**:
- 選擇其他圖片
- 重新拍照
- 檢查網絡連接

### 3. 如何調整圖片順序？
**目前狀態**:
- 圖片順序由選擇順序決定
- 暫不支持拖動排序

**臨時方案**:
- 刪除圖片後重新添加
- 下個版本將支持拖動排序

### 4. 草稿保存失敗？
**可能原因**:
- 存儲空間不足
- 應用權限問題

**解決方法**:
- 清理手機存儲空間
- 檢查應用權限設置

### 5. 圖片加載很慢？
**可能原因**:
- 圖片文件過大
- 網絡速度慢

**解決方法**:
- 選擇較小的圖片
- 等待網絡改善
- 下個版本將添加圖片壓縮

## 🔮 即將推出

### Phase 2 功能
- [ ] 圖片自動壓縮
- [ ] 拖動排序
- [ ] 雙擊縮放
- [ ] 圖片編輯（裁剪、旋轉）
- [ ] 圖片濾鏡
- [ ] 上傳進度顯示
- [ ] 離線圖片緩存

### 預計上線時間
- Phase 2.1（壓縮優化）: 2-3 天
- Phase 2.2（後端整合）: 1 週
- Phase 2.3（增強功能）: 2 週

## 💡 使用技巧

### 1. 最佳實踐
- **先選圖再寫文**: 圖片會自動保存到草稿
- **使用橫向照片**: 在卡片中顯示效果更好
- **控制數量**: 3-5 張圖片最佳
- **檢查順序**: 發布前預覽圖片順序

### 2. 創意建議
- **圖文並茂**: 用圖片輔助說明內容
- **系列文章**: 用多張圖片講故事
- **前後對比**: 展示變化過程
- **細節展示**: 放大重要細節

### 3. 性能優化
- **避免超大圖片**: 建議 < 5MB
- **減少圖片數量**: 3-5 張最佳
- **使用橫向照片**: 減少滾動

## 📞 反饋與支持

### 遇到問題？
1. 查看本指南的常見問題部分
2. 前往設置 > 幫助與反饋
3. 聯繫客服團隊

### 功能建議？
- 在應用內提交反饋
- 加入用戶社群討論
- 填寫功能需求調查

---

**最後更新**: 2025-11-03  
**版本**: Phase 1 (v1.0)  
**狀態**: ✅ 可用
